<h1>Products</h1>

<!-- <app-product-brief *ngFor="let product of productService.products" 
[product]="product" 
[isInWatchlist]="productService.isInWatchlist(product)"
[isInCart]="false"></app-product-brief> -->

<mat-table [dataSource]="productService.products">
    <ng-container matColumnDef="productCol">
      <!-- <mat-header-cell *matHeaderCellDef> Custom Module </mat-header-cell> -->
      <mat-cell *matCellDef="let product">
        <app-product-brief [product]="product" [isInWatchlist]="productService.isInWatchlist(product)" [isInCart]="false">
        </app-product-brief>
      </mat-cell>
    </ng-container>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
<br />
<ng-container *ngIf="isAdmin()">
  <button mat-flat-button color="primary" (click)="redirectToAddProduct()">Add Product</button>
  <button mat-flat-button color="primary" (click)="getTotalProductsSold()">Get Total Products sold</button>
  <ng-container *ngIf="isDisplay && productService.adminTotalProductsSold.length > 0">
    <table>
      <tr>
        <th>Product Name</th>
        <th>Sold Quantity</th>
      </tr>
      <tr *ngFor="let product of productService.adminTotalProductsSold">
        <td>{{product.name}}</td>
        <td>{{product.soldQuantity | number}}</td>
      </tr>
    </table>
  </ng-container>
</ng-container>

  